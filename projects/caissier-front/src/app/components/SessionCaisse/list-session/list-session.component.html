<div class="grid">
    <div class="col-12">
        <div class="card">
            <h5>Session Caisse</h5>
            <p-table  [value]="sessionCaisses" responsiveLayout="scroll">
                <ng-template pTemplate="caption">
                    <div class="flex align-items-center justify-content-between">
                        <h2>Liste les sessions de  caisses</h2>
                        <td><button pButton pRipple label="Nouvelle session" type="button" icon="pi pi-plus"
                                class="p-button-rounded p-button-primary" routerLink="/add-session"></button></td>

                    </div>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th>Num√©ro caisse</th>
                        <th>Nom caissier</th>
                        <th>Date ouverture</th>
                        <th>Date fermeture</th>
                        <th>Etat</th>

                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-session>
                    <tr>
                        <td>{{session.caisse.numC}}</td>
                        <td>{{session.caissier.nom}}</td>
                        <td>{{session.dateOuverture | date:'dd/MM/YYYY  HH:mm'}}</td>
                        <td>{{session.datefermeture | date:'dd/MM/YYYY  HH:mm'}}</td>
                        <td>{{session.etat}}</td>
                        <td><button *ngIf="session.etat ==='en cours'" pButton pRipple type="button" label="fermer"
                                icon="pi pi-power-off" class="p-button-rounded p-button-success" [routerLink]="['/fermer-session',session.numS]"></button>
                            <button *ngIf="session.etat === 'fermer'" pButton pRipple type="button" label="ouvrir"
                            icon="pi pi-power-off" class="p-button-rounded p-button-secondary" (click)="ouvrirSession(session)" ></button>
                        </td>
                        
                        <td><button pButton pRipple [routerLink]="['/consulter-session',session.numS]"  icon="pi pi-external-link" type="button" label="Consulter" class="p-button-rounded p-button-info mr-2 mb-2"></button></td>

                    </tr>
                </ng-template>
                <ng-template pTemplate="summary">
                    <div class="flex align-items-center justify-content-between">
                        In total there are {{session ? session.length : 0 }} sessions.
                    </div>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>